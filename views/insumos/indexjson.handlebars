<h3>Lista de insumos json</h3>

<div class="card">
    <div class="card-body">
        <table id="insumos" class="table table-striped table-sm" style="font-size: 13px; width: 100%">
            <thead class="thead-dark">
                <tr>
                    <th>Origem</th>
                    <th>Código</th>
                    <th>Descrição</th>
                    <th>Unidade</th>
                    <th>Preço</th>
                    <th>Observações</th>
                    <th >Ações</th>
                </tr>
            </theadclass="thead-dark">
            <tfoot>
                <tr class="thead-dark">
                    <th>Origem</th>
                    <th>Código</th>
                    <th>Descrição</th>
                    <th>Unidade</th>
                    <th>Preço</th>
                    <th>Observações</th>
                    <th >Ações</th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
<hr>
<div id="app">
    {{insumos}}
</div>


<script>
    $(document).ready(function() {
    $('#insumos').DataTable( {
        "processing": true,
        "serverSide": true,
        "ajax": {
            url: "/insumos/json/lista",
            type: "POST",
            dataType: "json"            
        },
        "columns": [
            { "data": "base_origem.abreviacao" },
            { "data": "codigo_origem" },
            { "data": "descricao" },
            { "data": "unidade_medida" },
            { "data": "preco_mediano",
            render: $.fn.dataTable.render.number( '.', ',', 2, 'R$ ' ) },
            { "data": "observacao" }
            //{ "data": '' }
        ],   
        /*
        "language": {
                "url": 'url_to_the_file'
        },*/
 
    } )
} )

var app = new Vue({
    el: '#app',
    data () {
        return {
            insumos: null
        }
    },
    mounted () {
        axios
        .get('/insumos/json/lista')
        .then(response => (this.insumos = response.data))
    }
})
</script>
